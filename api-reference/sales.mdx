---
title: Vendas
description: Endpoints para gerenciamento de vendas
---

# API de Vendas

Gerencie as vendas da sua empresa através destes endpoints.

## Listar Vendas

<ParamField path="GET" endpoint="/api/v1/sales">
  Lista todas as vendas da empresa
</ParamField>

### Parâmetros de Query

<ParamField query="page" type="number" default="1">
  Número da página para paginação
</ParamField>

<ParamField query="limit" type="number" default="20">
  Número de registros por página (máximo: 100)
</ParamField>

### Resposta

<ResponseField name="data" type="array">
  Lista de vendas com informações do cliente e representada
</ResponseField>

<ResponseField name="page" type="number">
  Página atual
</ResponseField>

<ResponseField name="limit" type="number">
  Registros por página
</ResponseField>

<ResponseField name="total" type="number">
  Total de registros
</ResponseField>

<ResponseExample>
```json
{
  "data": [
    {
      "id": "789e0123-e89b-12d3-a456-426614174222",
      "pedido": "PED-2024-001",
      "data": "2024-01-20T00:00:00Z",
      "nf": "NF-12345",
      "ano": 2024,
      "mes": 1,
      "dia": 20,
      "cliente_id": "123e4567-e89b-12d3-a456-426614174000",
      "cliente_nome": "Empresa ABC Ltda",
      "representada_id": "321e6547-e89b-12d3-a456-426614174333",
      "representada_nome": "Fornecedor XYZ",
      "status": "Faturado",
      "valor_total": 5500.00,
      "currency": "BRL",
      "created_at": "2024-01-20T15:30:00Z"
    }
  ],
  "page": 1,
  "limit": 20,
  "total": 85
}
```
</ResponseExample>

## Criar Venda

<ParamField path="POST" endpoint="/api/v1/sales">
  Cria uma nova venda com itens
</ParamField>

### Body da Requisição

<ParamField body="clienteId" type="string" required>
  ID do cliente
</ParamField>

<ParamField body="representadaId" type="string" required>
  ID da representada
</ParamField>

<ParamField body="data" type="string">
  Data da venda (formato ISO 8601)
</ParamField>

<ParamField body="nf" type="string">
  Número da nota fiscal
</ParamField>

<ParamField body="status" type="string" required>
  Status da venda (ex: "Pedido", "Faturado", "Entregue")
</ParamField>

<ParamField body="pedido" type="string">
  Número do pedido (gerado automaticamente se não informado)
</ParamField>

<ParamField body="itens" type="array" required>
  Lista de itens da venda
</ParamField>

### Estrutura dos Itens

<ParamField body="itens[].produtoId" type="string" required>
  ID do produto
</ParamField>

<ParamField body="itens[].quantidade" type="number" required>
  Quantidade vendida (deve ser positivo)
</ParamField>

<ParamField body="itens[].valorUnitario" type="number" required>
  Valor unitário do produto
</ParamField>

<RequestExample>
```json
{
  "clienteId": "123e4567-e89b-12d3-a456-426614174000",
  "representadaId": "321e6547-e89b-12d3-a456-426614174333",
  "data": "2024-01-25T10:00:00Z",
  "nf": "NF-54321",
  "status": "Pedido",
  "itens": [
    {
      "produtoId": "prod-001",
      "quantidade": 10,
      "valorUnitario": 250.00
    },
    {
      "produtoId": "prod-002",
      "quantidade": 5,
      "valorUnitario": 600.00
    }
  ]
}
```
</RequestExample>

<ResponseExample>
```json
{
  "data": {
    "id": "999e0123-e89b-12d3-a456-426614174444",
    "pedido": "PED-2024-002",
    "data": "2024-01-25T10:00:00Z",
    "nf": "NF-54321",
    "ano": 2024,
    "mes": 1,
    "dia": 25,
    "cliente_id": "123e4567-e89b-12d3-a456-426614174000",
    "cliente_nome": "Empresa ABC Ltda",
    "representada_id": "321e6547-e89b-12d3-a456-426614174333",
    "representada_nome": "Fornecedor XYZ",
    "status": "Pedido",
    "valor_total": 5500.00,
    "currency": "BRL",
    "created_at": "2024-01-25T10:00:00Z"
  }
}
```
</ResponseExample>

### Notas

- O `valor_total` é calculado automaticamente somando todos os itens
- Se o `pedido` não for informado, será gerado automaticamente
- A `data` se não informada, será a data/hora atual
- A moeda (`currency`) é sempre "BRL"