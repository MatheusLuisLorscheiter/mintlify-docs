---
title: "Criar Cliente"
api: "POST /api/v1/clients"
description: "Cria um novo cliente no sistema"
---

<Tip>
Cadastra um novo cliente com validação automática de dados. O sistema gera automaticamente um código único se não fornecido.
</Tip>

<Warning>
Você precisa de uma API key válida no header x-api-key para usar este endpoint.
</Warning>

## Headers

<ParamField header="Content-Type" type="string" required>
  application/json
</ParamField>

<ParamField header="x-api-key" type="string" required>
  API key de autenticação
</ParamField>

## Body

<ParamField body="nome" type="string" required>
  Nome ou razão social do cliente
  
  **Mínimo**: 3 caracteres  
  **Máximo**: 255 caracteres
</ParamField>

<ParamField body="email" type="string" required>
  Email do cliente
  
  Deve ser um email válido e único no sistema
</ParamField>

<ParamField body="telefone" type="string" required>
  Telefone do cliente
  
  Aceita diversos formatos:
  - (11) 98765-4321
  - 11987654321
  - +5511987654321
</ParamField>

<ParamField body="cidade" type="string" required>
  Cidade do cliente
</ParamField>

<ParamField body="estado" type="string" required>
  Estado do cliente (sigla com 2 letras)
  
  Exemplos: SP, RJ, MG, RS
</ParamField>

<ParamField body="cnpj_cpf" type="string">
  CNPJ ou CPF do cliente
  
  Aceita com ou sem formatação:
  - CNPJ: 12.345.678/0001-90 ou 12345678000190
  - CPF: 123.456.789-10 ou 12345678910
</ParamField>

<ParamField body="endereco" type="string">
  Endereço completo do cliente
</ParamField>

<ParamField body="codigo" type="string">
  Código personalizado do cliente
  
  Se não fornecido, será gerado automaticamente no formato: CLI + número sequencial
</ParamField>

<ParamField body="ativo" type="boolean" default="true">
  Define se o cliente está ativo
</ParamField>

<RequestExample>

```bash Exemplo Básico
curl -X POST https://api.sistema-representantes.com.br/api/v1/clients \
  -H "Content-Type: application/json" \
  -H "x-api-key: sua-api-key-aqui" \
  -d '{
    "nome": "Supermercado Central",
    "email": "contato@supercentral.com.br",
    "telefone": "(11) 98765-4321",
    "cidade": "São Paulo",
    "estado": "SP"
  }'
```

```bash Completo
curl -X POST https://api.sistema-representantes.com.br/api/v1/clients \
  -H "Content-Type: application/json" \
  -H "x-api-key: sua-api-key-aqui" \
  -d '{
    "nome": "Distribuidora ABC Ltda",
    "cnpj_cpf": "12.345.678/0001-90",
    "email": "vendas@distribuidoraabc.com.br",
    "telefone": "(21) 91234-5678",
    "endereco": "Av. Industrial, 1000 - Galpão 5",
    "cidade": "Rio de Janeiro",
    "estado": "RJ",
    "codigo": "DIST-ABC-001"
  }'
```

```javascript JavaScript
const clientData = {
  nome: "Loja do João",
  email: "joao@lojadojoao.com",
  telefone: "(31) 99876-5432",
  cidade: "Belo Horizonte",
  estado: "MG",
  cnpj_cpf: "123.456.789-10",
  endereco: "Rua do Comércio, 100"
};

const response = await fetch('https://api.sistema-representantes.com.br/api/v1/clients', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'x-api-key': 'sua-api-key-aqui'
  },
  body: JSON.stringify(clientData)
});

const result = await response.json();

if (result.success) {
  console.log(`Cliente criado com ID: ${result.data.id}`);
  console.log(`Código gerado: ${result.data.codigo}`);
} else {
  console.error('Erro:', result.error);
}
```

```python Python
import requests
import json

url = "https://api.sistema-representantes.com.br/api/v1/clients"
headers = {
    'Content-Type': 'application/json',
    'x-api-key': 'sua-api-key-aqui'
}

# Cliente pessoa jurídica
data = {
    "nome": "Indústria de Alimentos Silva",
    "cnpj_cpf": "98.765.432/0001-10",
    "email": "contato@industriasilva.com.br",
    "telefone": "(41) 93333-4444",
    "endereco": "Rod. BR-116, km 95",
    "cidade": "Curitiba",
    "estado": "PR"
}

response = requests.post(url, headers=headers, json=data)
result = response.json()

if response.status_code == 201:
    print(f"Cliente criado com sucesso!")
    print(f"ID: {result['data']['id']}")
    print(f"Código: {result['data']['codigo']}")
else:
    print(f"Erro: {result.get('error', 'Erro desconhecido')}")
```

```php PHP
<?php
$url = 'https://api.sistema-representantes.com.br/api/v1/clients';
$headers = [
    'Content-Type: application/json',
    'x-api-key: sua-api-key-aqui'
];

// Cliente pessoa física
$data = [
    'nome' => 'Maria da Silva',
    'cpf' => '987.654.321-00',
    'email' => 'maria.silva@email.com',
    'telefone' => '(85) 98888-7777',
    'endereco' => 'Rua das Palmeiras, 50, Apto 203',
    'cidade' => 'Fortaleza',
    'estado' => 'CE'
];

$options = [
    'http' => [
        'header' => implode("\r\n", $headers),
        'method' => 'POST',
        'content' => json_encode($data)
    ]
];

$context = stream_context_create($options);
$result = file_get_contents($url, false, $context);
$response = json_decode($result, true);

if (isset($response['success']) && $response['success']) {
    echo "Cliente criado com sucesso!\n";
    echo "ID: " . $response['data']['id'] . "\n";
    echo "Código: " . $response['data']['codigo'] . "\n";
} else {
    echo "Erro: " . $response['error'] . "\n";
}
?>
```

</RequestExample>

## Response

### Sucesso

<ResponseField name="success" type="boolean">
  Indica se a operação foi bem-sucedida
</ResponseField>

<ResponseField name="data" type="object">
  Dados do cliente criado
  
  <Expandable title="Estrutura do cliente">
    <ResponseField name="id" type="string">
      ID único do cliente (UUID)
    </ResponseField>
    <ResponseField name="codigo" type="string">
      Código do cliente (gerado automaticamente se não fornecido)
    </ResponseField>
    <ResponseField name="nome" type="string">
      Nome/razão social do cliente
    </ResponseField>
    <ResponseField name="cnpj_cpf" type="string">
      CNPJ ou CPF do cliente
    </ResponseField>
    <ResponseField name="email" type="string">
      Email do cliente
    </ResponseField>
    <ResponseField name="telefone" type="string">
      Telefone do cliente
    </ResponseField>
    <ResponseField name="endereco" type="string">
      Endereço completo
    </ResponseField>
    <ResponseField name="cidade" type="string">
      Cidade
    </ResponseField>
    <ResponseField name="estado" type="string">
      Estado (sigla)
    </ResponseField>
    <ResponseField name="ativo" type="boolean">
      Status do cliente
    </ResponseField>
    <ResponseField name="created_at" type="string">
      Data de criação (ISO 8601)
    </ResponseField>
    <ResponseField name="updated_at" type="string">
      Data da última atualização
    </ResponseField>
  </Expandable>
</ResponseField>

### Erro

<ResponseField name="error" type="string">
  Mensagem de erro descritiva
</ResponseField>

<ResponseExample>

```json 201 - Criado com Sucesso
{
  "success": true,
  "data": {
    "id": "550e8400-e29b-41d4-a716-446655440000",
    "codigo": "CLI003",
    "nome": "Supermercado Central",
    "cnpj_cpf": null,
    "email": "contato@supercentral.com.br",
    "telefone": "(11) 98765-4321",
    "endereco": null,
    "cidade": "São Paulo",
    "estado": "SP",
    "ativo": true,
    "created_at": "2024-01-20T10:30:00Z",
    "updated_at": "2024-01-20T10:30:00Z"
  }
}
```

```json 400 - Erro de Validação
{
  "error": "Dados de entrada inválidos",
  "details": {
    "nome": "Campo obrigatório",
    "email": "Formato de email inválido"
  }
}
```

```json 400 - Email Duplicado
{
  "error": "Email já cadastrado no sistema"
}
```

```json 401 - Não Autorizado
{
  "error": "API key ausente"
}
```

```json 403 - Empresa Inativa
{
  "error": "Empresa inativa"
}
```

```json 422 - Dados Inválidos
{
  "error": "Estado inválido. Use sigla com 2 letras (ex: SP, RJ)"
}
```

</ResponseExample>

## Validações

<Warning>
O sistema aplica as seguintes validações:

**Campos obrigatórios:**
- `nome`: Mínimo 3 caracteres
- `email`: Deve ser válido e único
- `telefone`: Aceita vários formatos
- `cidade`: Não pode ser vazio
- `estado`: Sigla com 2 letras

**Validações adicionais:**
- Email não pode estar duplicado
- CNPJ/CPF são validados quando fornecidos
- Telefone é normalizado automaticamente
</Warning>

## Códigos de Cliente

<Info>
Se o campo `codigo` não for fornecido, o sistema gera automaticamente:
- Formato: `CLI` + número sequencial
- Exemplos: CLI001, CLI002, CLI003...
- O código é único por empresa
- Você pode fornecer seu próprio código personalizado
</Info>